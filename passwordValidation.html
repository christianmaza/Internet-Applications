<html>
<head><title>passwordValidation</title></head>
<body>
	<script type="text/javascript">

// Too short
var password = "pswws3sspsw";

// Returns true if n is a string with a single digit, false otherwise

function isSingleDigit(n) {
   var unicodeValue = n.charCodeAt(0);
   return n.length === 1 && unicodeValue >= 48 && unicodeValue <= 57;
}

// Contains a space 
// password = "Contains space"; 

// Doesn't use a digit
// password = "my-password";

// Repeats first and last 3 chars
// password = "abc123abc";

// Strong password
// password = "StrongPassword1";

// See if function returns an error message or not

var message = testPassword(password);
if (message) {
   document.writeln(message);
}
else {
   document.writeln("Password accepted.");
}
   
function testPassword(password) {
   var singleDigitCount = 0;
   // return "Password must be at least 6 characters."; 
   
   // return "Password may not contain a space.";  
      
   // return "Password must have at least one digit.";
   
   // return "The password may not begin and end with the same 3 characters.";
      
   // Everything is good
   if(password.length < 6){ 
      return "Password not long enough";
   }
   if(password.indexOf(" ") != -1){
      return "Password cannot contain spaces"
   }
   for(var i = 0; i < password.length; i++){
      if((isSingleDigit(password[i]))){
         singleDigitCount++;
         
      }
   } 
   if(singleDigitCount === 0){
      return "Password must contain a digit";
   } 
   
   if(password.substr(0,3) === password.substr((password.length - 3), 3)){
      return "Password cannot contain the first three characters at the end";
   }
      
   return "";
}

    </script>
</body>
</html>
var scopeStatus;
var baseConf;
var baseInteg;
var baseAvail;
var attackV; 
var attackC; 
var attackP;
var userInt;
var scoreBase;
var scoreExploit;
var scoreFinal; 

function updateScore() {
    var avn = document.getElementById("AV_N"); 
    var ava = document.getElementById("AV_A");
    var avl = document.getElementById("AV_L");
    var avp = document.getElementById("AV_P");
    var acl = document.getElementById("AC_L");
    var ach = document.getElementById("AC_H");
    var prn = document.getElementById("PR_N");
    var prl = document.getElementById("PR_L");
    var prh = document.getElementById("PR_H");
    var uin = document.getElementById("UI_N"); 
    var uir = document.getElementById("UI_R"); 
    var scopeu = document.getElementById("scope_U"); 
    var scopec = document.getElementById("scope_C"); 
    var confn = document.getElementById("conf_N"); 
    var confh = document.getElementById("conf_H"); 
    var confl = document.getElementById("conf_L"); 
    var confh = document.getElementById("conf_H"); 
    var integn = document.getElementById("integ_N"); 
    var integl = document.getElementById("integ_L"); 
    var integh = document.getElementById("integ_H"); 
    var availn = document.getElementById("avail_N"); 
    var availl = document.getElementById("avail_L"); 
    var availh = document.getElementById("avail_H"); 
    var healthn = document.getElementById("health_N"); 
    var healthl = document.getElementById("health_L"); 
    var healthh = document.getElementById("health_H"); 
    var sensn = document.getElementById("sens_N"); 
    var sensl = document.getElementById("sens_L"); 
    var sensh = document.getElementById("sens_H"); 
    

    //scopeStatus
    scopec.addEventListener("click", function(){
                    scopeStatus = 1.08;
    });

    scopeu.addEventListener("click", function(){
                    scopeStatus = 1.0; 
    }); 
    //end scopeStatus

    //baseConf
    confn.addEventListener("click", function(){
        if(sensn.checked == true){
            baseConf = 0;
            return;
        }
        if(sensl.checked == true){
            baseConf = 0.22;
            return;
        }
        if(sensh.checked == true){
            baseConf = 0.56;
            return;
        }
    }); 
    
    confl.addEventListener("click", function(){
        if(sensn.checked == true){
            baseConf = 0;
            return;
        }
        if(sensl.checked == true){
            baseConf = 0.65;
            return;
        }
        if(sensh.checked == true){
            baseConf = 0.75;
            return;
        }
    });


    confh.addEventListener("click", function(){
        if(sensn.checked == true){
            baseConf = 0;
            return;
        }
        if(sensl.checked == true){
            baseConf = 0.85;
            return;
        }
        if(sensh.checked == true){
            baseConf = 0.95;
            return;
        }
    });

    sensn.addEventListener("click", function(){
        if(confn.checked == true){
            baseConf = 0;
            return;
        }
        if(confl.checked == true){
            baseConf = 0;
            return;
        }
        if(confh.checked == true){
            baseConf = 0;
            return;
        }
    });

    sensl.addEventListener("click", function(){
        if(confn.checked == true){
            baseConf = 0.22;
            return;
        }
        if(confl.checked == true){
            baseConf = 0.65;
            return;
        }
        if(confh.checked == true){
            baseConf = 0.85;
            return;
        }
    }); 

    sensh.addEventListener("click", function(){
        if(confn.checked == true){
            baseConf = 0.56;
            return;
        }
        if(confl.checked == true){
            baseConf = 0.75;
            return;
        }
        if(confh.checked == true){
            baseConf = 0.95;
            return;
        }
    }); 

    //end baseConf 

    //baseInteg and half of baseAvail

    healthn.addEventListener("click", function(){
        if(integn.checked == true){
            baseInteg = 0;
        }
        if(availn.checked == true){
            baseAvail = 0;
        }

        if(integl.checked == true){
            baseInteg = 0.22;
        }
        if(availl.checked == true){
            baseAvail = 0.22;
        }

        if(integh.checked == true){
            baseInteg = 0.56;
        }
        if(availh.checked == true){
            baseAvail = 0.56;
        }
        return;
    }); 

    healthl.addEventListener("click", function(){
        if(integn.checked == true){
            baseInteg = 0.55;
        }
        if(availn.checked == true){
            baseAvail = 0.55;
        }

        if(integl.checked == true){
            baseInteg = 0.60;
        }
        if(availl.checked == true){
            baseAvail = 0.60;
        }

        if(integh.checked == true){
            baseInteg = 0.75;    
        }
        if(availh.checked == true){
            baseAvail = 0.75;
        }
        return;  
    });


    healthh.addEventListener("click", function(){
        if(integn.checked == true){
            baseInteg = 0.85;
        }
        if(availn.checked == true){
            baseAvail = 0.85;
        }

        if(integl.checked == true){
            baseInteg = 0.90;
        }
        if(availl.checked == true){
            baseAvail = 0.90;
        }

        if(integh.checked == true){
            baseInteg = 0.95;
        }
        if(availh.checked == true){
            baseAvail = 0.95;
        }
        return;
    });

    integn.addEventListener("click", function(){
        if(healthn.checked == true){
            baseInteg = 0;
            return;
        }
        if(healthl.checked == true){
            baseInteg = 0.55;
            return;
        }
        if(healthh.checked == true){
            baseInteg = 0.85;
            return;
        }
    });

    integl.addEventListener("click", function(){
        if(healthn.checked == true){
            baseInteg = 0.22;
            return;
        }
        if(healthl.checked == true){
            baseInteg = 0.60;
            return;
        }
        if(healthh.checked == true){
            baseInteg = 0.90;
            return;
        }
    }); 

    integh.addEventListener("click", function(){
        if(healthn.checked == true){
            baseInteg = 0.56;
            return;
        }
        if(healthl.checked == true){
            baseInteg = 0.75;
            return;
        }
        if(healthh.checked == true){
            baseInteg = 0.95;
            return;
        }
    });    
    //end baseInteg and half of baseAvail

    //rest of baseAvail 

    availn.addEventListener("click", function(){
        if(healthn.checked == true){
            baseAvail = 0; 
            return;
        }
        if(healthl.checked == true){
            baseAvail = 0.55; 
            return;
        }
        if(healthh.checked == true){
            baseAvail = 0.85; 
            return;
        }
    });

    availl.addEventListener("click", function(){
        if(healthn.checked == true){
            baseAvail = 0.22; 
            return;
        }
        if(healthl.checked == true){
            baseAvail = 0.60; 
            return;
        }
        if(healthh.checked == true){
            baseAvail = 0.90; 
            return;
        }
    });

    availh.addEventListener("click", function(){
        if(healthn.checked == true){
            baseAvail = 0.56; 
            return;
        }
        if(healthl.checked == true){
            baseAvail = 0.75; 
            return;
        }
        if(healthh.checked == true){
            baseAvail = 0.95; 
            return;
        }
    });

    //attackV 

    avn.addEventListener("click", function(){
        attackV = 0.85;
    });

    ava.addEventListener("click", function(){
        attackV = 0.62;
    });

    avl.addEventListener("click", function(){
        attackV = 0.55;
    });

    avp.addEventListener("click", function(){
        attackV = 0.20;
    });

    //end attackV 

    //attackC

    ach.addEventListener("click", function(){
        attackC = 0.44;
    });

    acl.addEventListener("click", function(){
        attackC = 0.77;
    });

    //end attackC 

    //attackP 

    prn.addEventListener("click", function(){
        attackP = 0.85;
    });

    prl.addEventListener("click", function(){
        attackP = 0.62;
    });

    prh.addEventListener("click", function(){
        attackP = 0.27;
    });

    //end attackP 

    //userInt

    uin.addEventListener("click", function(){
        userInt = 0.85;
    });

    uir.addEventListener("click", function(){
        userInt = 0.62;
    });

    //end userInt
    finalCalculate();

    return;

}

function finalCalculate(){

    var buttClick = document.getElementsByTagName("input"); 
    var buttClickCount = 0;

    for(var i = 0; i < buttClick.length; i++){
        if(buttClick[i].checked){
            buttClickCount++;
        }
    }
    if(buttClickCount < 10){
        return;
    }

    document.getElementById("warning").style.display = "none";

    scoreBase = baseConf + baseInteg + baseAvail; 

        scoreExploit = attackV * attackC * attackP * userInt; 

        scoreFinal = scopeStatus * (3.326258289 * scoreBase) + (1.1 * scoreExploit); 

        if(scoreBase == 0){
            scoreFinal = 0;
        }

        scoreFinal = scoreFinal.toFixed(1); 

        document.getElementById("score").innerHTML = scoreFinal;
}
window.addEventListener("click", updateScore);